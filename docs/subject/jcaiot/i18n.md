# i18n实现国际化

## 实现基本配置
### 安装并挂载
```shell
vue add i18n
```
按照默认的配置即可
### 创建locals文件
在/src/locales/中分别创建zh.json,en.json,jp.json分别放置我们多语言的配置文件，以en.json为例子
```json
{
  "home": "Home",
  "members": "Members",
  "lang":"Languages"
}
```
### 配置i18n的配置文件
创建/src/plugins/i18n.js
```js
import Vue from 'vue';
import VueI18n from 'vue-i18n';

Vue.use(VueI18n);

function loadLocaleMessages() {
  //加载json文件
  const locales = require.context('../locales', true, /[A-Za-z0-9-_,\s]+\.json$/i);
  const messages = {};
  locales.keys().forEach(key => {
    const matched = key.match(/([A-Za-z0-9-_]+)\./i);
    if (matched && matched.length > 1) {
      const locale = matched[1];
      messages[locale] = locales(key);
    }
  })
  return messages;
}

export default new VueI18n({
  //判断当前环境语言
  locale: process.env.VUE_APP_I18N_LOCALE || 'zh',
  fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || 'zh',
  messages: loadLocaleMessages()
});
```
最后别忘了将i18n的插件挂载到vue实例上。

### 在展示端的菜单栏修改
```html
<v-menu offset-y>
    <template v-slot:activator="{ on }">
        <v-btn depressed dark v-on="on">
        {{$t("lang")}}
        <v-icon>mdi-menu-down</v-icon>
        </v-btn>
    </template>
    <v-list>
        <v-list-item v-for="(item, index) in items" :key="index">
        <v-list-item-title>{{ item.title }}</v-list-item-title>
        </v-list-item>
    </v-list>
</v-menu>
```
这是启动项目，我们就应该能看到菜单栏上显示中文，我理解这是因为我的系统环境是中文，所以显示的是中文。

## 储存当前语言并实施切换










